import{i as m,u as w,k as n,o as x,c as k,a as e,l as t,m as u,n as _,e as V}from"./index-K39IQJEO.js";import{a as P}from"./axios-G2rPRu76.js";import{t as f}from"./sweetalert-QE_x3gEi.js";var I={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",VITE_MAP:"AIzaSyB8xClOZxLQMzkbq6jjN2KlrBmFPPJkvEA",BASE_URL:"/TaiWang-Order-Online/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const y={class:"bg-primary vh-100 d-flex justify-content-center align-items-center"},A={class:"w-lg-50 w-xl-25 bg-white rounded-1 p-32"},E=e("div",{class:"text-center mb-24"},[e("h2",{class:"d-inline-block bg-dark text-white text-center p-16"},"泰汪泰式料理")],-1),T=e("h3",{class:"h4 text-center mb-16"},"後台登入",-1),B={class:"form-floating mb-16"},R=e("label",{for:"floatingInput"},"帳號",-1),L={class:"form-floating mb-32"},O=e("label",{for:"floatingPassword"},"密碼",-1),S=e("button",{type:"submit",class:"btn btn-dark btn-lg w-100 mb-16"},"登入",-1),q={__name:"AdminLoginView",setup(C){const{VITE_API:p}=I,s=m({username:"",password:""}),i=m(null),v=w();function b(){P.post(`${p}/admin/signin`,s.value).then(l=>{i.value.resetForm();const{token:o,expired:a}=l.data;document.cookie=`myToken=${o}; expires=${new Date(a)};`,f("top","success",l.data.message),setTimeout(()=>v.push("/admin"),1500)}).catch(()=>{f("top","error","登入失敗")})}return(l,o)=>{const a=n("v-field"),d=n("error-message"),g=n("RouterLink"),h=n("v-form");return x(),k("div",y,[e("div",A,[E,T,t(h,{ref_key:"form",ref:i,onSubmit:b},{default:u(({errors:c})=>[e("div",B,[t(a,{id:"floatingInput",name:"帳號",type:"email",class:_(["form-control",{"is-invalid":c.帳號}]),modelValue:s.value.username,"onUpdate:modelValue":o[0]||(o[0]=r=>s.value.username=r),placeholder:"xxx@mail.com",rules:"required"},null,8,["modelValue","class"]),R,t(d,{name:"帳號",class:"invalid-feedback fw-bold"})]),e("div",L,[t(a,{id:"floatingPassword",name:"密碼",type:"password",class:_(["form-control",{"is-invalid":c.密碼}]),modelValue:s.value.password,"onUpdate:modelValue":o[1]||(o[1]=r=>s.value.password=r),placeholder:"Password",rules:"required"},null,8,["modelValue","class"]),O,t(d,{name:"密碼",class:"invalid-feedback fw-bold"})]),S,t(g,{to:"/",class:"btn btn-outline-gray btn-lg w-100"},{default:u(()=>[V("回到前台")]),_:1})]),_:1},512)])])}}};export{q as default};
