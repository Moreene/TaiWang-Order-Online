import{a as h}from"./axios-G2rPRu76.js";import{_ as g,R as v,h as n,o as x,c as w,b as e,i as s,j as m,n as u,e as k}from"./index-xXrOZefA.js";import{t as _}from"./sweetalert--JC6CFTx.js";var V={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"taiwang",VITE_MAP:"AIzaSyB8xClOZxLQMzkbq6jjN2KlrBmFPPJkvEA",BASE_URL:"/TaiWang-Order-Online/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:P}=V,I={components:{RouterLink:v},data(){return{user:{username:"",password:""}}},methods:{login(){h.post(`${P}/admin/signin`,this.user).then(a=>{this.$refs.form.resetForm();const{token:o,expired:i}=a.data;document.cookie=`myToken=${o}; expires=${new Date(i)};`,_("top","success",a.data.message),setTimeout(()=>this.$router.push("/admin"),1500)}).catch(()=>{_("top","error","登入失敗")})}}},A={class:"bg-primary vh-100 d-flex justify-content-center align-items-center"},E={class:"w-lg-50 w-xl-25 bg-white rounded-1 p-32"},T=e("div",{class:"text-center mb-24"},[e("h2",{class:"d-inline-block bg-dark text-white text-center p-16"},"泰汪泰式料理")],-1),y=e("h3",{class:"h4 text-center mb-16"},"後台登入",-1),R={class:"form-floating mb-16"},B=e("label",{for:"floatingInput"},"帳號",-1),L={class:"form-floating mb-32"},S=e("label",{for:"floatingPassword"},"密碼",-1),O=e("button",{type:"submit",class:"btn btn-dark btn-lg w-100 mb-16"},"登入",-1);function j(a,o,i,C,t,p){const l=n("v-field"),d=n("error-message"),f=n("RouterLink"),b=n("v-form");return x(),w("div",A,[e("div",E,[T,y,s(b,{ref:"form",onSubmit:p.login},{default:m(({errors:c})=>[e("div",R,[s(l,{id:"floatingInput",name:"帳號",type:"email",class:u(["form-control",{"is-invalid":c.帳號}]),modelValue:t.user.username,"onUpdate:modelValue":o[0]||(o[0]=r=>t.user.username=r),placeholder:"xxx@mail.com",rules:"required"},null,8,["modelValue","class"]),B,s(d,{name:"帳號",class:"invalid-feedback fw-bold"})]),e("div",L,[s(l,{id:"floatingPassword",name:"密碼",type:"password",class:u(["form-control",{"is-invalid":c.密碼}]),modelValue:t.user.password,"onUpdate:modelValue":o[1]||(o[1]=r=>t.user.password=r),placeholder:"Password",rules:"required"},null,8,["modelValue","class"]),S,s(d,{name:"密碼",class:"invalid-feedback fw-bold"})]),O,s(f,{to:"/",class:"btn btn-outline-gray btn-lg w-100"},{default:m(()=>[k("回到前台")]),_:1})]),_:1},8,["onSubmit"])])])}const q=g(I,[["render",j]]);export{q as default};
