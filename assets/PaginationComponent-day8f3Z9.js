import{_ as b,o as l,c as d,a as t,t as x,e as $,w as u,b as e,i as C,j as y,C as S,n as k,d as w,F as N,r as T}from"./index-Acea3fQg.js";import{u as B}from"./useProductStore-XCgPjrFG.js";import{u as D}from"./useCartStore-0XS7tuNd.js";const V={class:"card-img-wrapper w-100 rounded-top overflow-hidden"},j=["src","alt"],z={class:"py-16"},F={class:"fs-6 text-center"},M={class:"text-center text-danger fw-bold fs-6 mb-20"},E={class:"text-notoSans"},I={class:"text-center"},L={__name:"ProductsCardComponent",props:["item"],setup(n){const p=B(),{getProduct:v}=p,f=D(),{addCart:g}=f;return(r,i)=>(l(),d("a",{href:"#",class:"card w-75 w-md-100 mx-auto",onClick:i[1]||(i[1]=u(s=>e(v)(n.item.id),["prevent"]))},[t("div",V,[t("img",{src:n.item.imageUrl,class:"w-100 h-100 rounded-top",alt:n.item.title},null,8,j)]),t("div",z,[t("h2",F,x(n.item.title),1),t("p",M,[$("NT$ "),t("span",E,x(n.item.price),1)]),t("div",I,[t("button",{type:"button",class:"btn btn-primary link-light px-44",onClick:i[0]||(i[0]=u(s=>e(g)(n.item.id),["prevent","stop"]))},"加入購物車")])])]))}},O=b(L,[["__scopeId","data-v-84044224"]]),U={"aria-label":"Page navigation",class:"my-4 d-flex justify-content-center"},q={class:"pagination"},A=["onClick"],Q={__name:"PaginationComponent",props:["products"],emits:["updateProducts"],setup(n,{expose:p,emit:v}){const f=n,g=v,r=C([]),i=C(12),s=C(0),m=y(()=>Math.ceil(r.value.length/i.value));function _(){const o=[];for(let a=0;a<m.value;a++)o[a]=r.value.slice(i.value*a,i.value*(a+1));g("updateProducts",o[s.value])}function h(o){o>=0&&o<m.value&&(s.value=o,window.scrollTo(0,0),_())}function P(){s.value=0,_()}return S(()=>f.products,o=>{r.value=o,_()},{immediate:!0}),p({resetPage:P}),(o,a)=>(l(),d("nav",U,[t("ul",q,[e(r).length>12?(l(),d("li",{key:0,class:k(["page-item",{disabled:e(s)===0}])},[t("a",{class:"page-link",href:"#",onClick:a[0]||(a[0]=u(c=>h(e(s)-1),["prevent"]))},"«")],2)):w("",!0),(l(!0),d(N,null,T(e(m),c=>(l(),d("li",{class:k(["page-item",{active:c===e(s)+1}]),key:c},[t("a",{class:"page-link",href:"#",onClick:u(G=>h(c-1),["prevent"])},x(c),9,A)],2))),128)),e(r).length>12?(l(),d("li",{key:1,class:k(["page-item",{disabled:e(s)===e(m)-1}])},[t("a",{class:"page-link",href:"#",onClick:a[1]||(a[1]=u(c=>h(e(s)+1),["prevent"]))},"»")],2)):w("",!0)])]))}};export{O as P,Q as _};
